<% layout('./layout') -%>

<link href="/css/jquery.tagit.css" rel="stylesheet" type="text/css">
<link href="/css/tagit.ui-zendesk.css" rel="stylesheet" type="text/css">

<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js" type="text/javascript" charset="utf-8"></script>

<script src="/js/vendor/tag-it.min.js" type="text/javascript" charset="utf-8"></script>
<script src="/js/admin/product.view.js"></script>

<div style="padding: 10px;">

<form class="form-horizontal" role="form" action="/admin/product/update/<%= product.slug_id %>" method="post">
  <div class="form-group">
    <label for="title" class="col-sm-2 control-label">Title</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" name="title" id="title" placeholder="Title" value="<%= product.title %>">
    </div>
  </div>
  <div class="form-group">
    <label for="designer" class="col-sm-2 control-label">Designer</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" name="designer" id="designer" placeholder="Designer" value="<%= product.designer %>">
    </div>
  </div>
  <div class="form-group">
    <label for="group" class="col-sm-2 control-label">Group</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" name="group" id="group" placeholder="Group" value="<%= product.group %>">
    </div>
  </div>
  <div class="form-group">
    <label for="category" class="col-sm-2 control-label">Category</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" name="category" id="category" placeholder="Category" value="<%= product.category %>">
    </div>
  </div>
  <div class="form-group">
    <label for="tags" class="col-sm-2 control-label">Tags</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" name="tags" id="tags" placeholder="Tags" value="<%= product.tags %>">
    </div>
  </div>
  <div class="form-group">
    <label for="price" class="col-sm-2 control-label">Price</label>
    <div class="col-sm-10">
      <div class="input-group" style="width: 150px;">
      <span class="input-group-addon">S$</span>
      <input type="text" class="form-control" name="price" id="price" placeholder="price" value="<%= product.price %>">
      <span class="input-group-addon">.00</span>
  </div>

    </div>
  </div>
  <div class="form-group">
    <label for="description" class="col-sm-2 control-label">Description</label>
    <div class="col-sm-10">
      <textarea class="form-control" name="description" id="description" rows="3"><%= product.description %></textarea>
    </div>
  </div> 

  <div class="form-group">
    <label for="details" class="col-sm-2 control-label">Details</label>
    <div class="col-sm-10" id="details-group">
    <% if (product.details && product.details.product) {  %>
            <% for(var i=0; i<product.details.product.length; i++) { %>
            <div class="input-group" style="margin-bottom: 10px;">
              <span class="input-group-addon">
                <select class="form-control" style="width: 200px;" name="details[key]">
                    <option value="manufacture" <%= product.details.product[i].k == 'manufacture'? 'selected' : ''%>>Manufacture</option>
                    <option value="composition" <%= product.details.product[i].k == 'composition'? 'selected' : ''%>>Composition</option>
                    <option value="size" <%= product.details.product[i].k == 'size'? 'selected' : ''%>>Size</option>
                    <option value="care" <%= product.details.product[i].k == 'care'? 'selected' : ''%>>Care</option>
                    <option value="note" <%= product.details.product[i].k == 'note'? 'selected' : ''%>>Note</option>
                    <option value="model's body measurements" <%= product.details.product[i].k == 'model\'s body measurements'? 'selected' : ''%>>Model's body measurements</option>
                </select>
                </span>
                <textarea class="form-control" name="details[value]" rows="3"><%= product.details.product[i].v %></textarea>
                <span class="input-group-addon"><i class="fa fa-times remove-button"></i></span>
            </div>
            <% } %>
      <% } %>
      <button id="add-detail-button" type="button" class="btn btn-default">Add</button>
    </div>
  </div>

  <div class="form-group">
    <label for="shipping" class="col-sm-2 control-label">Shipping</label>
    <div class="col-sm-10">
    <% if (product.details && product.details.shipping) {  %>
            <% for(var i=0; i<product.details.shipping.length; i++) { %>
            <div class="input-group" style="margin-bottom: 10px;">
              <span class="input-group-addon">
                <select class="form-control" style="width: 200px;" name="shipping[key]">
                    <option value="shipping from" <%= product.details.shipping[i].k == 'shipping from'? 'selected' : ''%>>Shipping From</option>
                    <option value="estimated time" <%= product.details.shipping[i].k == 'estimated time'? 'selected' : ''%>>Estimated Time</option>
                </select>
                </span>
                <textarea class="form-control" name="shipping[value]" rows="2"><%= product.details.shipping[i].v %></textarea>
                <span class="input-group-addon"><i class="fa fa-times remove-button"></i></span>
            </div>
            <% } %>
      <% } %>
      <button id="add-shipping-button" type="button" class="btn btn-default">Add</button>
    </div>
  </div>


  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <button type="submit" class="btn btn-primary">Update</button>
    </div>
  </div>
</form>  

</div>
